<html>
<head>
    <title>TV</title>
    <style>
        html, body {
            overflow: hidden;
            background: #000;
            margin: 0;
            height: 100%;
            width: 100%;

            cursor: none;
            -webkit-user-select: none;
        }

        iframe {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }

        iframe[data-filter-invert] {
            -webkit-filter: invert(1);
        }

        iframe[data-filter-hue-rotate] {
            -webkit-animation: hue-rotate 10s linear infinite;
        }

        @-webkit-keyframes hue-rotate {
            0% {
                -webkit-filter: sepia(1) hue-rotate(0deg);
            }
            100% {
                -webkit-filter: sepia(1) hue-rotate(360deg);
            }
        }

        iframe[data-filter-hue-rotate][data-filter-invert] {
            -webkit-animation: hue-rotate-invert 10s linear infinite;
        }

        @-webkit-keyframes hue-rotate-invert {
            0% {
                -webkit-filter: sepia(1) hue-rotate(0deg) invert(1);
            }
            100% {
                -webkit-filter: sepia(1) hue-rotate(360deg) invert(1);
            }
        }

        canvas {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            width: 100%;
            height: 100%;
            height: 100%;
            width: 100%;
            pointer-events: none;
            opacity: 0.3;

            display: none;
        }

        .cover {
            position: fixed;
            background: #000;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            width: 100%;
            height: 100%;
            border: 0;
            cursor: none;
            opacity: 0;
            -webkit-user-select: none;
        }

        .cover.covered {
            transition: opacity .5s;
            opacity: 1;
        }

        .cover.choked {
            transition: none;
            opacity: 1;
        }

        .party {
            display: block;
            margin: auto;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            height: 50%;
            width: 50%;
            z-index: 2;
            pointer-events: none;
            -webkit-transform: translateZ(0);
            transition: opacity 3s;
        }

        .party.hidden {
            opacity: 0;
        }

        .party svg {
            height: 100%;
            width: 100%;
            position: absolute;
        }

        .party .mask-image {
            margin: auto;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            max-height: 100%;
            max-width: 100%;
            box-shadow: 0 0 0 3000px #000, inset 0 0 0 1px #000;
        }
    </style>
</head>
<body>
    <iframe allowTransparency="true"></iframe>
    <canvas id="view1" width="960" height="540"></canvas>
    <div class="cover"></div>
    <div class="party">
        <svg viewBox="0 0 518 245" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <g fill-rule="evenodd">
                <path d="M0,0 L0,245 L518,245 L518,0 L0,0 Z M106.44,94.908 L106.44,65.82 C106.44,40.6064339 85.8335661,20 60.62,20 L27.5,20 L22,20 L22,25.5 L22,219.9 L22,225.4 L27.5,225.4 L42.476,225.4 L47.976,225.4 L47.976,219.9 L47.976,140.699988 L60.62,140.728 C85.8335661,140.728 106.44,120.121566 106.44,94.908 Z M138.804,20 L134.079595,20 L133.366935,24.6703442 L103.702935,219.070344 L102.737077,225.4 L109.14,225.4 L124.116,225.4 L128.851177,225.4 L129.554919,220.71741 L136.35,175.576 L166.374041,175.718502 L173.401784,220.748115 L174.127801,225.4 L178.836,225.4 L193.812,225.4 L200.214923,225.4 L199.249065,219.070344 L169.585065,24.6703442 L168.872405,20 L164.148,20 L138.804,20 Z M285.52936,123.798352 C285.364847,123.625053 284.49878,122.816681 284.28324,122.718739 C284.37053,122.594115 284.572,122.395352 284.670281,122.298024 C284.670281,122.298024 284.967218,122.00195 285.114116,121.852456 C293.407,113.412992 298.352,101.892316 298.352,89.724 L298.352,65.82 C298.352,40.6064339 277.745566,20 252.532,20 L219.412,20 L213.912,20 L213.912,25.5 L213.912,219.9 L213.912,225.4 L219.412,225.4 L234.388,225.4 L239.888,225.4 L239.888,219.9 L239.899988,135.544 L252.532,135.544 C263.606434,135.544 272.376,144.313566 272.376,155.388 L272.376,219.9 L272.376,225.4 L277.876,225.4 L292.852,225.4 L298.352,225.4 L298.352,219.9 L298.352,155.388 C298.352,143.470443 293.615456,132.316328 285.52936,123.798352 Z M313.692,20 L308.192,20 L308.192,25.5 L308.192,40.476 L308.192,45.976 L313.692,45.976 L335.264,46.025 L335.264,219.9 L335.264,225.4 L340.764,225.4 L356.028,225.4 L361.528,225.4 L361.528,219.9 L361.5375,45.976 L382.812,45.976 L388.312,45.976 L388.312,40.476 L388.312,25.5 L388.312,20 L382.812,20 L313.692,20 Z M436.12,219.9 L436.12,225.4 L441.62,225.4 L456.596,225.4 L462.096,225.4 L462.096,219.9 L462.096,130.62 L461.816612,132.350669 L496.664612,27.2306685 L499.061628,20 L491.444,20 L476.468,20 L472.4906,20 L471.24477,23.7772504 L449.119813,90.9298687 L426.97123,23.7772504 L425.7254,20 L421.748,20 L406.772,20 L399.154372,20 L401.551388,27.2306685 L436.399388,132.350669 L436.12,130.62 L436.12,219.9 Z" fill="#000"></path>
                <path d="M47.0000015,45.976 L59.62,45.976 C70.6944339,45.976 79.464,54.7455661 79.464,65.82 L79.464,94.908 C79.464,105.982434 70.6944339,114.752 59.62,114.752 L47.0000015,114.752 L47.0000015,45.976 Z M161.4125,149.6 L139.296461,149.600012 L150.380659,77.2605446 L161.4125,149.6 Z M238.9125,45.976 L251.532,45.976 C262.606434,45.976 271.376,54.7455661 271.376,65.82 L271.376,89.724 C271.376,100.798434 262.606434,109.568 251.532,109.568 L238.9125,109.568 L238.9125,45.976 Z" fill="#000"></path>
            </g>
        </svg>
        <img class="mask-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAADCQAAAW+AQMAAAA/EYKeAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAArNJREFUeNrswYEAAAAAgKD9qRepAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABg9uBAAAAAAADI/7URVFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWFPTgQAAAAAADyf20EVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVhDw4EAAAAAID8XxtBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVXYgwMBAAAAACD/10ZQVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVRX24EAAAAAAAMj/tRFUVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVYU9OBAAAAAAAPJ/bQRVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWEPDgQAAAAAgPxfG0FVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVdiDAwEAAAAAIP/XRlBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVlfbgQAAAAABAkL/1BBtUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIwAv+wAAVVrJIAAAAAASUVORK5CYII=" />
    </div>

    <!-- jQuery -->
    <script src="js/jquery.min.js"></script>

    <!-- Audio stuff -->
    <script src="js/AudioContextMonkeyPatch.js"></script>
    <script src="js/waveshaper.js"></script>
    <script src="js/effects.js"></script>

    <!-- Visualizer stuff -->
    <script src="js/visualizer/events.js"></script>

    <!-- WebGL stuff -->
    <script src="js/visualizer/base.js"></script>
    <script src="js/visualizer/cameracontroller.js"></script>

    <!-- TODO(kbr): remove this dependency -->
    <script src="js/visualizer/matrix4x4.js"></script>

    <!-- Visualizer GL library -->
    <script src="js/visualizer/visualizer.js"></script>
    <script src="js/visualizer/shader.js"></script>

    <!-- TV app -->
    <script src="js/app.js"></script>

    <!-- Analytics -->
    <script>
        setTimeout(function(){ document.body.className = 'loaded'; }, 500);
    </script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-400802-12', 'party.github.io');
        ga('send', 'pageview');
    </script>
</body>
</html>